{% extends "layout.html" %}
{% block content %}
     <section >
        <div class="container">
            <h1>PRIOTASK</h1>
            <span id="italic">productive focus</span>
            <div class="panel">
                <p id="pomodoro" class="selected">Pomodoro</p>
                <p id="shortbreak" class="selected">Short break</p>
                <p id="longbreak" class="selected">Long Break</p>
            </div>
            <div class="timer">
                <div class="circle">
                    <div class="time">
                        <p id="minutes"></p>
                        <p>:</p>
                        <p id="seconds"></p>
                    </div>
                </div>
            </div>
            <div class="controls">
                <button id="start">Start</button>
                <button id="pause">Pause</button>
                <button id="stop">Stop</button>
            </div>
            <div class="tasks">
                <form method="post">
                    {{ form.hidden_tag() }}
                    <div>
                        {{ form.task_name(class="task-name") }}
                        {% for error in form.task_name.errors %}
                            <span style="color: red;">[{{ error }}]</span>
                        {% endfor %}
                    </div>
                    <div>
                        {{ form.submit(class="task-submit") }}
                        <button class="task-submit" type="button" id="toggle-tasks">Show Tasks</button>
                    </div>
                </form>
            </div>
        </div>
        <div class="task-list" id="task-list" style="display: none;">
            <h2>Tasks</h2>
            {% if tasks %}
            <ul>
              {% for task_id, task_info in tasks.items() %}
                <li>{{ task_info.content }}
                    <div class="button-group">
                        <form action="{{ url_for('delete_task', task_id=task_id) }}" method="DELETE">
                            <button class="btn" type="submit">Schedule</button>
                        <form action="{{ url_for('edit_task', task_id=task_id) }}" method="PUT">
                            <button class="btn" type="submit">Edit</button>
                        <form action="{{ url_for('delete_task', task_id=task_id) }}" method="DELETE">
                            <button class="btn" type="submit">Delete</button>
                        </form>
                    </div>
                </li>
              {% endfor %}
            </ul>
          {% else %}
            <p>No tasks available.</p>
          {% endif %}
        </div>
    </section>
{% endblock content %}
